# Практическое задание 35.3

В предыдущих блоках урока вы научились работать с параметрами функций, позиционными и именованными аргументами, а также значениями по умолчанию. Теперь вы переходите к изучению гибких функций, которые могут работать с переменным количеством данных. Этот блок посвящен использованию `*args` и `**kwargs` для сбора произвольного числа аргументов, а также технике распаковки списков и словарей при вызове функций. Эти навыки позволят вам писать более универсальный и адаптивный код.

## Задания

### Описание задачи
Наталья, вы работаете над системой обработки заказов в небольшом интернет-магазине. Вам нужно создать функцию `create_order`, которая формирует словарь с информацией о заказе. Функция должна быть гибкой и принимать:
1. Обязательные аргументы: `order_id` (номер заказа, целое число) и `customer_name` (имя покупателя, строка).
2. Произвольное количество позиционных аргументов, которые будут интерпретироваться как коды товаров (строки). Эти коды должны собираться в кортеж.
3. Произвольное количество именованных аргументов, которые будут представлять собой дополнительную информацию о заказе (например, `discount=10`, `priority=True`). Эти пары "ключ-значение" должны собираться в словарь.

Также вам нужно написать вспомогательную функцию `apply_promotion`, которая принимает словарь заказа и произвольное количество именованных аргументов, представляющих промо-акции. Функция должна обновлять словарь заказа, добавляя в него эти промо-акции, используя распаковку словаря.

**Контекст:** В реальной жизни количество товаров в заказе и дополнительных параметров (скидки, приоритет, комментарии) может меняться. Использование `*args` и `**kwargs` позволяет обрабатывать такие ситуации без изменения сигнатуры функции при каждом новом требовании.

### Пример входных и выходных данных

**Пример 1: Базовый заказ**
```python
# Входные данные для вызова функции
order = create_order(101, "Анна Петрова", "Т-001", "Т-005", discount=5, comment="Срочный")

# Ожидаемый вывод (словарь order)
{
    'order_id': 101,
    'customer': 'Анна Петрова',
    'items': ('Т-001', 'Т-005'),
    'details': {'discount': 5, 'comment': 'Срочный'}
}
```

**Пример 2: Заказ с большим количеством товаров и промо-акциями**
```python
# Создание заказа
order = create_order(202, "Иван Сидоров", "Т-010", "Т-011", "Т-012", priority=True)

# Применение промо-акций
apply_promotion(order, summer_sale=15, free_delivery=True)

# Ожидаемое состояние словаря order после apply_promotion
{
    'order_id': 202,
    'customer': 'Иван Сидоров',
    'items': ('Т-010', 'Т-011', 'Т-012'),
    'details': {'priority': True, 'summer_sale': 15, 'free_delivery': True}
}
```

**Пояснение к примерам:**
- В `create_order`: аргументы `101` и `"Анна Петрова"` передаются позиционно в обязательные параметры. Строки `"Т-001"`, `"Т-005"` собираются в кортеж `items` с помощью `*args`. Именованные аргументы `discount=5`, `comment="Срочный"` собираются в словарь `details` с помощью `**kwargs`.
- В `apply_promotion`: функция принимает созданный словарь `order` и произвольные именованные аргументы `summer_sale=15`, `free_delivery=True`. Она должна добавить эти пары в под-словарь `details` заказа, используя метод словаря `update()` и распаковку.

### Критерии проверки и ограничения
1. Функция `create_order` должна быть объявлена с параметрами `order_id`, `customer_name`, `*args`, `**kwargs`.
2. Она должна возвращать словарь с ключами: `'order_id'`, `'customer'`, `'items'` (кортеж из `*args`), `'details'` (словарь из `**kwargs`).
3. Функция `apply_promotion` должна принимать первым аргументом словарь заказа, а затем `**promotions`. Она должна обновлять словарь `order['details']`, добавляя в него все пары из `promotions`. Функция не возвращает новое значение, а изменяет переданный словарь.
4. В решении нельзя использовать циклы для обработки `args` или `kwargs` — используйте встроенные возможности Python для работы с ними как с коллекциями (кортеж и словарь).
5. Запрещено использовать темы из будущих блоков: область видимости, глобальные переменные, `global`, замыкания.

### Решение задачи (псевдокод)
1. **Функция create_order(order_id, customer_name, *args, **kwargs):**
   - Создать пустой словарь `order_dict`.
   - Записать в `order_dict` по ключу `'order_id'` значение `order_id`.
   - Записать в `order_dict` по ключу `'customer'` значение `customer_name`.
   - Записать в `order_dict` по ключу `'items'` кортеж, содержащий все элементы из `args`.
   - Записать в `order_dict` по ключу `'details'` словарь, содержащий все пары ключ-значение из `kwargs`.
   - Вернуть `order_dict`.

2. **Функция apply_promotion(order_dict, **promotions):**
   - Получить доступ к вложенному словарю по ключу `'details'` в `order_dict`.
   - Обновить этот вложенный словарь, добавив в него все пары из словаря `promotions` (использовать метод обновления словаря).

### Рекомендации
- Вынести в отдельную функцию: В данном задании обе функции уже являются отдельными и выполняют четкие задачи. Дополнительное выделение не требуется.
- PEP8:
  - Именуйте функции в `snake_case`: `create_order`, `apply_promotion`.
  - После запятой в параметрах функции ставьте пробел: `def create_order(order_id, customer_name, *args, **kwargs):`.
  - Используйте докстринги для описания назначения функции (тройные двойные кавычки).
